eureka:
  instance:
    lease-renewal-interval-in-seconds: 10
    lease-expiration-duration-in-seconds: 60
  client:
    serviceUrl:
      defaultZone: http://bu-admin:123456@localhost:9999/eureka/

spring:
  application:
    name: vastpn-zuul # 所有服务在注册中心自动转换为大写
#  profiles:
#    active: dev
  cloud:
    config:
      enabled: true
      profile: dev
      discovery:
        enabled: true
        service-id: vastpn-config
      fail-fast: true
      retry:
        initial-interval: 20000
        max-attempts: 6
        max-interval: 3000
        multiplier: 1.1

# Hystrix的线程隔离策略将会作用于所有路由;同时每个路由采用独立线程池，避免雪崩
zuul:
  ribbon-isolation-strategy: thread
  thread-pool:
    use-separate-thread-pools: true
  host:
    connect-timeout-millis: 6000
    socket-timeout-millis: 6000
ribbon:
  ReadTimeout: 6000
  ConnectTimeout: 6000

hystrix:
  command:
    default:
      execution:
        isolation:
          thread:
            # timeoutInMilliseconds > (ribbonReadTimeout + ribbonConnectTimeout) * (maxAutoRetries + 1) * (maxAutoRetriesNextServer + 1);
            timeoutInMilliseconds: 60000
#============Zuul的路由使用了Ribbon